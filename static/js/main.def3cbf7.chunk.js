(this["webpackJsonpspelling-app"]=this["webpackJsonpspelling-app"]||[]).push([[0],{122:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a=n(12),o=n(1),i=n.n(o),r=n(19),c=n.n(r),s=n(37),l=n(98),d=n(38),u=n(39),h=n(77),j=n.n(h),g=n(92),b=n(78),p=n(79),f=n.p+"static/media/google-10000-english-usa-no-swears-medium.ed99d00a.txt",v=n.p+"static/media/google-10000-english-usa-no-swears-long.64e0047a.txt",x=n.p+"static/media/google-10000-english-usa-no-swears-short.f7ab0961.txt",O=n.p+"static/media/de-top-500.092bf686.txt",m=(n(122),n(181)),w=n(182),y=n(186),k=n(188),C=n(189),L=n(176),S=n(185),T=n(187),W=n(190),I={en:["Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Kevin","Matthew"],de:["Marlene","Vicki","Hans"]},M=function(){function e(){Object(b.a)(this,e);var t=n(76).CognitoIdentityClient,a=n(140).fromCognitoIdentityPool,o=n(90),i=o.Polly;o.paginateListSpeechSynthesisTasks;this.client=new i({region:"us-west-1",credentials:a({client:new t({region:"us-west-1"}),identityPoolId:"us-west-1:6efc86a3-4fda-40f5-80a5-427cb0a1457a"})}),this.speechParams={OutputFormat:"mp3",SampleRate:"16000",Text:"hello world",TextType:"ssml",VoiceId:"Matthew"},console.log("TTS constructed")}return Object(p.a)(e,[{key:"setVoice",value:function(e){this.speechParams.VoiceId=e}},{key:"getVoices",value:function(e){return I[e]}},{key:"speakText",value:function(){var e=Object(g.a)(j.a.mark((function e(t,a){var o,i,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("speaking: "+t),this.speechParams.Text='<speak><prosody rate="slow">'+t+"</prosody></speak>",o=n(142),i=o.getSynthesizeSpeechUrl,r=this.client,e.prev=4,e.next=7,i({client:r,params:this.speechParams});case 7:c=e.sent,console.log(c),a(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Error",e.t0);case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),V={en:{Short:x,Medium:f,Long:v},de:{"Top 500":O}},N=function(){function e(){Object(b.a)(this,e),console.log("word generator constructor"),this.words=[]}return Object(p.a)(e,[{key:"load",value:function(e,t,n){var a=this;console.log("word generator loading list started"),fetch(V[e][t]).then((function(e){return e.text()})).then((function(e){a.words=e.split("\n"),console.log("word generator done loading list"),n()})).catch((function(e){console.error("There has been a problem with your fetch operation:",e),alert("Could not load word list, sorry!")}))}},{key:"getLists",value:function(e){return Object.keys(V[e])}},{key:"nextWord",value:function(){return this.words[Math.floor(Math.random()*this.words.length)]}}]),e}(),P=Object(L.a)((function(e){return{root:{flexGrow:1,width:500,align:"center"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));var E=function(){var e,t=P(),n=i.a.useState((function(){return{language:"en",wordList:"Medium",voice:"Matthew",generator:new N,tts:new M}})),r=Object(u.a)(n,2),c=r[0],h=r[1];c.generator.load(c.language,c.wordList,(function(){}));var j=i.a.useState(""),g=Object(u.a)(j,2),b=g[0],p=g[1],f=i.a.useState(""),v=Object(u.a)(f,2),x=v[0],O=v[1],L=i.a.useState(Object(a.jsx)(T.a,{severity:"info",children:"Click New Word to start!"})),I=Object(u.a)(L,2),V=I[0],E=I[1],A=Object(o.useState)(""),J=Object(u.a)(A,2),G=J[0],H=J[1],K=Object(o.useState)((function(){return console.log("New HTML Audio object created"),new Audio(G)})),U=Object(u.a)(K,2),z=U[0],D=(U[1],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;c.tts.speakText(e,(function(e){H(e),console.log("new URL received"),z.autoplay=!0,z.src=e}))}),F=function(){var e=c.generator.nextWord();D(e),O(""),p(e)},R=function(e){e.preventDefault(),""!==x&&(console.log("submit: "+x),0===x.trim().toLocaleUpperCase().localeCompare(b.toUpperCase())?(E(Object(a.jsxs)(T.a,{severity:"info",children:["Correct! The word is ",b,"."]})),setTimeout(F(),200),setTimeout((function(){return E(Object(a.jsx)(T.a,{severity:"info",children:"Guess the new word"}))}),1e3)):(E(Object(a.jsx)(T.a,{severity:"info",children:"Wrong, try again..."})),z.play()))},B=function(e){console.log("voice changed to "+e),c.tts.setVoice(e),h(Object(d.a)(Object(d.a)({},c),{},{voice:e}))},Y=function(e){console.log("List changed to "+e),E(Object(a.jsx)(T.a,{severity:"info",children:"Let me load new word list, one second..."})),c.generator.load(c.language,e,(function(){E(Object(a.jsx)(T.a,{severity:"info",children:"Finished loading new words"})),setTimeout((function(){return E("")}),500)})),h(Object(d.a)(Object(d.a)({},c),{},{wordList:e})),F()};return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(m.a,{container:!0,spacing:1,className:t.root,children:[Object(a.jsx)(m.a,{item:!0,xs:4,children:Object(a.jsxs)(w.a,{className:t.formControl,children:[Object(a.jsx)(k.a,{id:"language",children:"Language"}),Object(a.jsxs)(y.a,{labelId:"language",id:"language-select",value:c.language,onChange:function(e){var t=e.target;console.log("language changed to "+t.value);var n=c.generator.getLists(t.value)[0];Y(n);var a=c.tts.getVoices(t.value)[0];B(a),h(Object(d.a)(Object(d.a)({},c),{},{voice:a,language:t.value,wordList:n}))},children:[Object(a.jsx)(C.a,{value:"en",children:"English"}),Object(a.jsx)(C.a,{value:"de",children:"German"})]})]})}),Object(a.jsx)(m.a,{item:!0,xs:4,children:Object(a.jsxs)(w.a,{className:t.formControl,children:[Object(a.jsx)(k.a,{id:"word-list",children:"Word List"}),Object(a.jsx)(y.a,{labelId:"word-list",id:"word-list-select",value:c.wordList,onChange:function(e){var t=e.target;Y(t.value)},children:c.generator.getLists(c.language).map((function(e){return Object(a.jsx)(C.a,{value:e,children:e})}))})]})}),Object(a.jsx)(m.a,{item:!0,xs:4,children:Object(a.jsxs)(w.a,{className:t.formControl,children:[Object(a.jsx)(k.a,{id:"voice",children:"Voice"}),Object(a.jsx)(y.a,{labelId:"voice",id:"voice-select",value:c.voice,onChange:function(e){var t=e.target;B(t.value),D()},children:c.tts.getVoices(c.language).map((function(e){return Object(a.jsx)(C.a,{value:e,children:e})}))})]})}),Object(a.jsx)(m.a,{item:!0,xs:4,children:Object(a.jsx)("div",{children:Object(a.jsx)(S.a,{variant:"contained",color:"primary",onClick:function(){z.play()},disabled:""===G,fullWidth:!0,children:"Say Again"})})}),Object(a.jsx)(m.a,{item:!0,xs:4,children:Object(a.jsx)(S.a,{variant:"contained",color:"secondary",onClick:function(){var e="";Object(l.a)(b).forEach((function(t){Math.random()<.5?e+="_":e+=t})),E(Object(a.jsxs)(T.a,{severity:"error",children:['Here are some letters: "',e,'"']}))},fullWidth:!0,disabled:""===b,children:"Hint"})}),Object(a.jsx)(m.a,{item:!0,xs:4,children:Object(a.jsx)(S.a,{variant:"contained",color:"secondary",onClick:function(){E(Object(a.jsx)(T.a,{severity:"warning",children:"You have given up. Let's try a new word..."})),setTimeout((function(){return E(Object(a.jsx)(T.a,{severity:"info",children:"Guess the new word"}))}),800),F()},fullWidth:!0,children:"New Word"})}),Object(a.jsx)(m.a,{item:!0,xs:8,children:Object(a.jsx)(W.a,(e={id:"word-input",value:x,onInput:function(e){var t=e.target;O(t.value)},onKeyDown:function(e){"Enter"===e.key&&R(e)}},Object(s.a)(e,"id","standard-basic"),Object(s.a)(e,"label","Spell the word"),Object(s.a)(e,"size","large"),Object(s.a)(e,"fullWidth",!0),e))}),Object(a.jsx)(m.a,{item:!0,xs:4,children:Object(a.jsx)(S.a,{type:"submit",color:"primary",onClick:R,fullWidth:!0,children:"Submit"})}),Object(a.jsx)(m.a,{item:!0,xs:12,children:V})]})})};c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.def3cbf7.chunk.js.map